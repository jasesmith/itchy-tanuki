!function(t,e,r){"use strict";t.module("app").directive("shadeRing",["UtilityService",function(r){var i=function(t){var e=Math.floor(255*(1-Math.abs(t/180)));return"rgb("+e+", "+e+", "+e+")"};return{restrict:"E",replace:!0,scope:{steps:"=?"},template:'<div class="shade-ring"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" version="1.1"><defs><clipPath id="clipA"><rect x="0" y="0" width="100" height="50" /></clipPath><clipPath id="clipB"><rect x="0" y="50" width="100" height="50" /></clipPath><mask id="hole"><rect width="100%" height="100%" fill="#fff" /><circle r="35" cx="50" cy="50" /></mask><mask id="light"><g id="a" clip-path="url(#clipA)" mask="url(#hole)"></g></mask><mask id="dark"><g id="b" clip-path="url(#clipB)" mask="url(#hole)"></g></mask></defs><circle cx="50" cy="50" fill="#fff" r="50" mask="url(#light)" /><circle cx="50" cy="50" fill="#000" r="50" mask="url(#dark)" /></svg></div>',link:function(r,n){var c=n[0].querySelector("#a"),a=n[0].querySelector("#b"),s=t.element(c),l=t.element(a),o=t.element(n[0].querySelector("svg"));c.setAttribute("transform","rotate(90 50 50)"),a.setAttribute("transform","rotate(90 50 50)"),console.log(r.steps);var h=function(t){for(var e=0;360>e;e+=t){var r=window.document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("width",50),r.setAttribute("height",50),r.setAttribute("transform","rotate("+e+" 50 50)"),180>e?(r.setAttribute("fill",i(e)),s.append(r)):(r.setAttribute("fill",i(360-e)),l.append(r))}},f=function(t){var e={};return t&&(e={t:t.offsetTop,r:t.offsetLeft+t.offsetWidth,b:t.offsetTop+t.offsetHeight,l:t.offsetLeft,w:t.offsetWidth,h:t.offsetHeight},e.cx=e.l+e.w/2,e.cy=e.t+e.h/2),e},d=function(t,e){var r=f(e),i=Math.atan2(t.clientY-r.cy,t.clientX-r.cx),n=Math.round(180*i/Math.PI);return n},p=function(e,r){t.element(e).css({transform:"rotate("+r+"deg)"})},u=function(t){var e=t.srcEvent&&t.srcEvent.changedTouches?t.srcEvent.changedTouches:t.pointers,i=d(e[0],o[0]);window.console.log(i),p(o[0],i),r.$apply()};r.touching=!1;var g=new e(o[0]),w={direction:e.DIRECTION_ALL,threshold:0};g.get("pan").set(w),g.on("pan panend pancancel",function(t){var e="panend"===t.type||"pancancel"===t.type?!1:!0;r.touching=t.srcEvent&&t.srcEvent.changedTouches?e:!1,u(t,"m")}),h(r.steps)}}}])}(window.angular,window.Hammer,window._);