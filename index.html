<!DOCTYPE html>
<html ng-app="app" ng-controller="AppController">
    <head>
        <title>{{color}} â€¢ {{headline}}</title>
        <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css" media="screen" charset="utf-8" />
        <link rel="stylesheet" href="css/styles.css" media="screen" title="no title" charset="utf-8" />
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <script src="js/jquery-ui-custom.min.js"></script>
        <script src="bower_components/angular/angular.min.js"></script>
        <script src="bower_components/angular-ui-sortable/sortable.min.js"></script>
        <script src="bower_components/moment/min/moment.min.js"></script>
        <script src="bower_components/underscore/underscore-min.js"></script>
        <script src="bower_components/jquery.scrollTo/jquery.scrollTo.min.js"></script>
        <script src="bower_components/jamfu/jamfu.js"></script>

        <script src="js/colors.js"></script>
        <script src="js/app.js"></script>
    </head>
    <body class="">

        <div class="wrapper" ng-cloak ng-style="{'background': color}" ng-class="setClasses(color)">

            <div class="workspace">

                <main class="main">
                    <div class="panel favorites" ng-if="myColors.length" ui-sortable="sortableOptions" ng-model="myColors">
                        <div class="color-brick {{$last}}" ng-repeat="c in myColors" ng-click="loadColor(c)" ng-style="{'background': c}" ng-class="setClasses(c, color)">
                            <span>{{c}}</span>
                        </div>
                    </div>

                    <div class="canvas">
                        <div class="color-display flex-column">
                            <div class="xcolor-info flex-row color-bar">
                                <div class="color-brick" ng-repeat="c in lighter track by $index" ng-click="loadColor(c)" ng-style="{'background': c}" ng-class="setClasses(c)">{{c}}</div>
                            </div>
                            <div class="color-info flex-row flex-1">
                                <h1>{{color}}</h1>
                                <div ng-click="doIt()"><fa name="refresh" size="3"></fa></div>
                                <div ng-click="saveColor(color)"><i class="fa fa-3x" ng-class="{'fa-star': isSaved(color), 'fa-star-o': !isSaved(color)}"></i></div>
                            </div>
                            <div class="color-info">
                                <a href="/{{color}}"><u>{{color}}</u></a>
                                <span>color brightness: {{brightness}}</span>
                            </div>
                            <div class="xcolor-info flex-row color-bar">
                                <div class="color-brick" ng-repeat="c in darker track by $index" ng-click="loadColor(c)" ng-style="{'background': c}" ng-class="setClasses(c)">{{c}}</div>
                            </div>
                            <div class="color-info">
                                <span ng-click="useHash = !useHash">update URL</span>
                                <span ng-click="showHistory = !showHistory">{{(showHistory ? 'hide' : 'show')}} history</span>
                                <span ng-click="clearColorHistory()">clear history</span>
                                <span ng-click="clearSavedColors()">reset saved</span>
                            </div>
                            <div class="color-info">

                            </div>
                        </div>
                    </div>

                    <div class="panel history" ng-if="preferences.showHistory">
                        <div class="color-brick {{$last}}" ng-repeat="c in colorHistory" ng-click="loadColor(c)" ng-style="{'background': c}" ng-class="setClasses(c, color)">
                            <span>{{c}}</span>
                        </div>
                    </div>
                </main>

            </div>
        </div>

    </body>
</html>
